<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.pm.mapper.PayrollMapper">
	<!-- 查找所有个人所得税 -->
	<select id="taxGradeList" resultType="taxGrade" parameterType="com.pm.model.Pager">
		select *from taxgrade order by taxgrade_grade desc limit #{startindex},#{pagesize}
	</select>
	<!--  查找个人所得税总数 -->
	<select id="getTaxGradeCount" resultType="java.lang.Integer">
		select count(taxgrade_grade) from taxgrade		
	</select>
	<!--  通过税等级删除个人所得税-->
	<delete id="removeTaxGrade" parameterType="java.lang.Integer">
		delete from taxgrade where taxgrade_grade=#{taxgrade_grade}
	</delete>
	<!--  通过输入关键字搜索个人所得税设置-->
	<select id="searchTaxGrades" parameterType="java.lang.String" resultType="taxGrade">
		select * from taxgrade where taxgrade_rate like "%"#{keyword}"%" or taxgrade_grade like "%"#{keyword}"%" or
		 taxgrade_start like "%"#{keyword}"%" or taxgrade_end like "%"#{keyword}"%" or taxgrade_speed like "%"#{keyword}"%";
	</select>
	<!--  修改个人所得税设置-->
	<update id="updateTaxGrade" parameterType="taxGrade">
		update taxgrade set taxgrade_start=#{taxgrade_start},taxgrade_end=#{taxgrade_end},
		  taxgrade_rate=#{taxgrade_rate},taxgrade_speed=#{taxgrade_speed} where taxgrade_grade=#{taxgrade_grade}
	</update>
	<!--  通过税务等级获得某一条税务信息-->
	<select id="getTaxGrade" parameterType="java.lang.String" resultType="taxGrade">
		select *from taxgrade where taxgrade_grade=#{taxgrade_grade}
	</select>
	<!--  增加一条税务信息-->
	<insert id="addTaxGrade" parameterType="taxGrade">
		insert into taxgrade values(#{taxgrade_grade},#{taxgrade_start},#{taxgrade_end},#{taxgrade_rate},#{taxgrade_speed})
	</insert>
</mapper>